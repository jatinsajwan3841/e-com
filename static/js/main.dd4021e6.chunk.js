(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[1],{100:function(e,t,n){},101:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(32),s=n.n(c),o=n(4),u=(n(70),n(2)),i=function(){return Object(u.jsx)("div",{className:"loading-container",children:Object(u.jsx)("span",{className:"loading"})})},l=n(9),d=n(16),p=n(7),O=(n(77),n(28)),E=n(55),f=n.n(E),S=function(){var e=a.a.useState(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(p.c)((function(e){return e.user})),s=c.isAuthenticated,o=c.user,i=Object(p.b)();return Object(u.jsxs)("div",{className:"header-container",children:[Object(u.jsxs)(d.b,{to:"/",className:"logo",children:[Object(u.jsx)(f.a,{}),Object(u.jsx)("span",{className:"text",children:"Flip Outlet"})]}),Object(u.jsxs)("div",{className:"right",children:[Object(u.jsx)(d.c,{to:"/",children:"Home"}),Object(u.jsx)(d.c,{to:"/products",activestyle:"active",end:!0,children:"Products"}),Object(u.jsx)(d.c,{to:"/contact",children:"Contact"}),s?Object(u.jsx)("div",{onMouseOut:function(){return r(!1)},children:Object(u.jsxs)("div",{className:"avatar",onMouseOver:function(){return r(!0)},children:[Object(u.jsx)("img",{src:o.avatar.url,alt:"profile",className:"dp"}),Object(u.jsxs)("div",{className:"hidden ".concat(n&&"options"),children:["admin"===o.role&&Object(u.jsx)(d.b,{to:"/dashboard",children:"Dashboard"}),Object(u.jsx)(d.b,{to:"/profile",children:"Profile"}),Object(u.jsx)(d.b,{to:"/cart",children:"Cart"}),Object(u.jsx)("span",{onClick:function(){return i(Object(O.d)())},children:"Log Out"})]})]})}):Object(u.jsx)(d.c,{to:"/login",children:"Sign In"})]})]})},j=(n(98),function(){return Object(u.jsxs)("footer",{className:"footer",children:["Flip Outlet \xa9",(new Date).getFullYear()]})}),b=function(e){var t=e.children,n=Object(p.c)((function(e){return e.user})),r=n.loading,c=n.isAuthenticated,s=Object(o.f)();return a.a.useEffect((function(){r||c||s("/login")}),[r,c,s]),Object(u.jsx)(u.Fragment,{children:!r&&c&&t})},R=a.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,166))})),_=a.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,167))})),h=a.a.lazy((function(){return Promise.all([n.e(0),n.e(6),n.e(5)]).then(n.bind(null,174))})),m=[{path:"/",name:"Home Page",secure:!1,element:R},{path:"/product/:id",name:"Product",secure:!1,element:_},{path:"/products",name:"Products",secure:!1,element:h},{path:"/products/:keyword",name:"Products",secure:!1,element:h},{path:"/login",name:"Login",secure:!1,element:a.a.lazy((function(){return n.e(13).then(n.bind(null,168))}))},{path:"/profile",name:"Profile",secure:!0,element:a.a.lazy((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,175))}))},{path:"/password/forgot",name:"Profile",secure:!1,element:a.a.lazy((function(){return n.e(12).then(n.bind(null,169))}))},{path:"/password/reset/:token",name:"Profile",secure:!1,element:a.a.lazy((function(){return n.e(14).then(n.bind(null,170))}))},{path:"/cart",name:"Cart",secure:!1,element:a.a.lazy((function(){return n.e(11).then(n.bind(null,176))}))},{path:"/check-out",name:"CheckOut",secure:!0,element:a.a.lazy((function(){return Promise.all([n.e(0),n.e(10),n.e(8)]).then(n.bind(null,173))}))},{path:"/pay-status",name:"PayStatus",secure:!1,element:a.a.lazy((function(){return n.e(15).then(n.bind(null,171))}))}],g=(n(99),function(){return Object(u.jsx)("div",{children:"Page Not Found"})}),y=n(25),v=n(59),T=n(20),A=n(3),U=Object(y.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_PRODUCT_REQUEST":return{loading:!0,products:[]};case"ALL_PRODUCT_SUCCESS":return{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,resultPerPage:t.payload.resultPerPage,filteredProductsCount:t.payload.filteredProductsCount};case"ALL_PRODUCT_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(A.a)(Object(A.a)({},e),{},{error:void 0});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return{loading:!0,product:[]};case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAILS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(A.a)(Object(A.a)({},e),{},{error:void 0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":case"REGISTER_USER_REQUEST":case"LOAD_USER_REQUEST":return{loading:!0,isAuthenticated:!1};case"LOGIN_SUCCESS":case"REGISTER_USER_SUCCESS":case"LOAD_USER_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,isAuthenticated:!0,user:t.payload});case"LOGIN_FAIL":case"REGISTER_USER_FAIL":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,isAuthenticated:!1,user:null,error:t.payload});case"LOAD_USER_FAIL":return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case"LOGOUT_SUCCESS":return{loading:!1,isAuthenticated:!1,user:null};case"LOGOUT_FAIL":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(A.a)(Object(A.a)({},e),{},{error:void 0});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PROFILE_REQUEST":case"UPDATE_PASSWORD_REQUEST":case"UPDATE_USER_REQUEST":case"DELETE_USER_REQUEST":return Object(A.a)(Object(A.a)({},e),{},{loading:!0});case"UPDATE_PROFILE_SUCCESS":case"UPDATE_PASSWORD_SUCCESS":case"UPDATE_USER_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,isUpdated:t.payload});case"DELETE_USER_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,isDeleted:t.payload.success,message:t.payload.message});case"UPDATE_PROFILE_FAIL":case"UPDATE_PASSWORD_FAIL":case"UPDATE_USER_FAIL":case"DELETE_USER_FAIL":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,error:t.payload});case"UPDATE_PROFILE_RESET":case"UPDATE_PASSWORD_RESET":case"UPDATE_USER_RESET":return Object(A.a)(Object(A.a)({},e),{},{isUpdated:!1});case"DELETE_USER_RESET":return Object(A.a)(Object(A.a)({},e),{},{isDeleted:!1});case"CLEAR_ERRORS":return Object(A.a)(Object(A.a)({},e),{},{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT_PASSWORD_REQUEST":case"RESET_PASSWORD_REQUEST":return Object(A.a)(Object(A.a)({},e),{},{loading:!0,error:null});case"FORGOT_PASSWORD_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,message:t.payload});case"RESET_PASSWORD_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,success:t.payload});case"FORGOT_PASSWORD_FAIL":case"RESET_PASSWORD_FAIL":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(A.a)(Object(A.a)({},e),{},{error:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var n=t.payload,r=e.cartItems.find((function(e){return e._id===n._id}));return r?Object(A.a)(Object(A.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e._id===r._id?n:e}))}):Object(A.a)(Object(A.a)({},e),{},{cartItems:[].concat(Object(T.a)(e.cartItems),[n])});case"REMOVE_CART_ITEM":return Object(A.a)(Object(A.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e._id!==t.payload}))});case"SAVE_SHIPPING_INFO":return Object(A.a)(Object(A.a)({},e),{},{shippingInfo:t.payload});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ORDER_REQUEST":return Object(A.a)(Object(A.a)({},e),{},{loading:!0});case"CREATE_ORDER_SUCCESS":return{loading:!1,order:t.payload};case"CREATE_ORDER_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(A.a)(Object(A.a)({},e),{},{error:null});default:return e}}}),C=U,P={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},L=Object(y.c)(Object(y.a)(v.a)),x=Object(y.d)(C,P,L),I=(n(100),function(){var e=a.a.useState(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(p.b)(),s=Object(p.c)((function(e){return e.user.error})),o=Object(p.c)((function(e){return e.profile.error})),i=Object(p.c)((function(e){return e.products.error})),d=Object(p.c)((function(e){return e.productDetails.error})),O=Object(p.c)((function(e){return e.forgotPassword})),E=Object(p.c)((function(e){return e.newOrder.error})),f=a.a.useRef();return a.a.useEffect((function(){s&&(r(s),c({type:"CLEAR_ERRORS"}),f.current=setTimeout((function(){r(!1)}),4e3))}),[s,c]),a.a.useEffect((function(){o&&(r(o),c({type:"CLEAR_ERRORS"}),f.current=setTimeout((function(){r(!1)}),4e3))}),[o,c]),a.a.useEffect((function(){i&&(r(i),c({type:"CLEAR_ERRORS"}),f.current=setTimeout((function(){r(!1)}),4e3))}),[i,c]),a.a.useEffect((function(){d&&(r(d),c({type:"CLEAR_ERRORS"}),f.current=setTimeout((function(){r(!1)}),4e3))}),[d,c]),a.a.useEffect((function(){(O.error||O.message)&&(r(O.error||O.message),c({type:"CLEAR_ERRORS"}),f.current=setTimeout((function(){r(!1)}),4e3))}),[O.error,O.message,c]),a.a.useEffect((function(){E&&(r(E),c({type:"CLEAR_ERRORS"}),f.current=setTimeout((function(){r(!1)}),4e3))}),[E,c]),a.a.useEffect((function(){return f.current=setTimeout((function(){r(!1)}),4e3),clearTimeout(f.current)}),[]),Object(u.jsx)("div",{className:"alert-container ".concat(n&&"show"),children:Object(u.jsx)("div",{className:"alert",children:n})})}),D=(n(101),function(){var e=a.a.useState(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(p.c)((function(e){return e.user.loading})),s=Object(p.c)((function(e){return e.profile.loading})),o=Object(p.c)((function(e){return e.products.loading})),i=Object(p.c)((function(e){return e.productDetails.loading})),d=Object(p.c)((function(e){return e.forgotPassword.loading})),O=Object(p.c)((function(e){return e.newOrder.loading}));return a.a.useEffect((function(){r(!!(c||s||o||i||d||O))}),[c,s,o,i,d,O]),Object(u.jsx)(u.Fragment,{children:n&&Object(u.jsx)("div",{className:"loading-container",children:Object(u.jsx)("span",{className:"loading"})})})});var w=function(){a.a.useEffect((function(){x.dispatch(Object(O.b)())}),[]);var e=m.map((function(e,t){return Object(u.jsx)(o.a,{path:e.path,name:e.name,element:e.secure?Object(u.jsx)(b,{children:Object(u.jsx)(e.element,{})}):Object(u.jsx)(e.element,{})},t)}));return Object(u.jsx)(r.Suspense,{fallback:Object(u.jsx)(i,{}),children:Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)(S,{}),Object(u.jsx)(I,{}),Object(u.jsx)(D,{}),Object(u.jsx)("div",{className:"content",children:Object(u.jsxs)(o.c,{children:[e,Object(u.jsx)(o.a,{path:"*",element:Object(u.jsx)(g,{})})]})}),Object(u.jsx)(j,{})]})})};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(p.a,{store:x,children:Object(u.jsx)(d.a,{children:Object(u.jsx)(w,{})})})}),document.getElementById("root"))},18:function(e,t,n){"use strict";var r=n(54),a=n.n(r).a.create({baseURL:"https://e-com3841.herokuapp.com",withCredentials:!0});t.a=a},28:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return O})),n.d(t,"f",(function(){return E}));var r=n(5),a=n.n(r),c=n(12),s=n(18),o=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"LOGIN_REQUEST"}),c={headers:{"Content-Type":"application/json"}},n.next=5,s.a.post("/api/v1/login",{email:e,password:t},c);case 5:o=n.sent,u=o.data,r({type:"LOGIN_SUCCESS",payload:u.user}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),r({type:"LOGIN_FAIL",payload:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},u=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"REGISTER_USER_REQUEST"}),r={headers:{"Content-Type":"multipart/form-data"}},t.next=5,s.a.post("/api/v1/register",e,r);case 5:c=t.sent,o=c.data,n({type:"REGISTER_USER_SUCCESS",payload:o.user}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"REGISTER_USER_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},i=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOAD_USER_REQUEST"}),e.next=4,s.a.get("/api/v1/profile");case 4:n=e.sent,r=n.data,t({type:"LOAD_USER_SUCCESS",payload:r.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"LOAD_USER_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},l=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("/api/v1/logout");case 3:t({type:"LOGOUT_SUCCESS"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:"LOGOUT_FAIL",payload:e.t0.response.data.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"UPDATE_PROFILE_REQUEST"}),r={headers:{"Content-Type":"multipart/form-data"}},t.next=5,s.a.put("/api/v1/profile/update",e,r);case 5:c=t.sent,o=c.data,n({type:"UPDATE_PROFILE_SUCCESS",payload:o.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"UPDATE_PROFILE_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"UPDATE_PASSWORD_REQUEST"}),r={headers:{"Content-Type":"application/json"}},t.next=5,s.a.put("/api/v1/password/update",e,r);case 5:c=t.sent,o=c.data,n({type:"UPDATE_PASSWORD_SUCCESS",payload:o.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"UPDATE_PASSWORD_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"FORGOT_PASSWORD_REQUEST"}),r={headers:{"Content-Type":"application/json"}},t.next=5,s.a.post("/api/v1/password/forgot",e,r);case 5:c=t.sent,o=c.data,n({type:"FORGOT_PASSWORD_SUCCESS",payload:o.message}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"FORGOT_PASSWORD_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},E=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"RESET_PASSWORD_REQUEST"}),c={headers:{"Content-Type":"application/json"}},n.next=5,s.a.put("/api/v1/password/reset/".concat(e),t,c);case 5:o=n.sent,u=o.data,r({type:"RESET_PASSWORD_SUCCESS",payload:u.success}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),r({type:"RESET_PASSWORD_FAIL",payload:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}},70:function(e,t,n){},77:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[103,2,3]]]);
//# sourceMappingURL=main.dd4021e6.chunk.js.map