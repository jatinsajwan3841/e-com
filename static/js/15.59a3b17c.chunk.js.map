{"version":3,"sources":["components/login/index.js"],"names":["Login","React","useState","loginSelect","setLogin","dp","setDp","navigate","useNavigate","location","useLocation","dispatch","useDispatch","isAuthenticated","useSelector","state","user","handleSubmit","e","a","preventDefault","email","target","value","pass","password","login","name","myForm","FormData","set","register","handleDp","tdp","files","size","reader","FileReader","onload","re","result","readAsDataURL","alert","redirect","search","split","useEffect","replace","className","onClick","onSubmit","encType","alt","src","type","accept","onChange","htmlFor","placeholder","minLength","required","to"],"mappings":"sOAwIeA,UAlID,WACV,MAAgCC,IAAMC,UAAS,GAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAoBH,IAAMC,WAA1B,mBAAOG,EAAP,KAAWC,EAAX,KACMC,EAAWC,cACXC,EAAWC,cACXC,EAAWC,cACTC,EAAoBC,aAAY,SAACC,GAAD,OAAWA,EAAMC,QAAjDH,gBACFI,EAAY,uCAAG,WAAOC,GAAP,qBAAAC,EAAA,sDACjBD,EAAEE,iBACIC,EAAQH,EAAEI,OAAOD,MAAME,MACvBC,EAAON,EAAEI,OAAOG,SAASF,MAC1BpB,EASDQ,EAASe,YAAML,EAAOG,KARhBG,EAAOT,EAAEI,OAAOK,KAAKJ,OACrBK,EAAS,IAAIC,UACZC,IAAI,OAAQH,GACnBC,EAAOE,IAAI,QAAST,GACpBO,EAAOE,IAAI,WAAYN,GACvBI,EAAOE,IAAI,KAAMzB,GACjBM,EAASoB,YAASH,KAXL,2CAAH,sDAiBZI,EAAQ,uCAAG,WAAOd,GAAP,iBAAAC,EAAA,uDACTc,EAAMf,EAAEI,OAAOY,MAAM,KACdD,EAAIE,KAAO,MACZC,EAAS,IAAIC,YACZC,OAAS,SAACC,GACbjC,EAAMiC,EAAGjB,OAAOkB,SAEpBJ,EAAOK,cAAcR,IAErBS,MAAM,6CATG,2CAAH,sDAYRC,EAAWlC,EAASmC,OACpBnC,EAASmC,OAAOC,MAAM,KAAK,GAC3B,WAMN,OALA5C,IAAM6C,WAAU,WACRjC,GACAN,EAASoC,EAAU,CAAEI,SAAS,MAEnC,CAAClC,EAAiBN,EAAUoC,IAE3B,sBAAKK,UAAU,kBAAf,UACI,sBAAKA,UAAU,cAAf,UACI,qBAAKA,UAAU,MAAMC,QAAS,kBAAM7C,GAAS,IAA7C,mBAGA,qBAAK4C,UAAU,MAAMC,QAAS,kBAAM7C,GAAS,IAA7C,sBAGA,sBAAM4C,UAAS,yBAAoB7C,GAAe,cAEtD,qBAAI6C,UAAU,QAAd,0BACiB,sBAAMA,UAAU,OAAhB,4CAAwC,OAEzD,uBAAME,SAAUjC,EAAckC,QAAQ,sBAAtC,UACI,gCACKhD,EACG,qBAAK6C,UAAU,WAEf,qCACI,sBAAKA,UAAU,SAAf,UACK3C,GAAM,qBAAK2C,UAAU,KAAKI,IAAI,KAAKC,IAAKhD,IACzC,sBAAM2C,UAAU,cAEpB,uBACIM,KAAK,OACL3B,KAAK,KACL4B,OAAO,kBACPC,SAAUxB,UAKxB7B,GACE,sBAAK6C,UAAU,cAAf,UACI,uBAAOS,QAAQ,OAAOT,UAAU,QAAhC,oCAGA,uBACIM,KAAK,OACL3B,KAAK,OACL+B,YAAY,IACZC,UAAU,IACVC,UAAQ,IAEZ,oBAAIZ,UAAU,kBACd,sBAAMA,UAAU,cAAhB,qBAGR,sBAAKA,UAAU,cAAf,UACI,uBAAOS,QAAQ,QAAQT,UAAU,QAAjC,qCAGA,uBAAOM,KAAK,QAAQ3B,KAAK,QAAQ+B,YAAY,IAAIE,UAAQ,IACzD,oBAAIZ,UAAU,kBACd,sBAAMA,UAAU,cAAhB,sBAEJ,sBAAKA,UAAU,cAAf,UACI,uBAAOS,QAAQ,WAAWT,UAAU,QAApC,wCAGA,uBACIM,KAAK,WACL3B,KAAK,WACL+B,YAAY,IACZC,UAAU,IACVC,UAAQ,IAEZ,oBAAIZ,UAAU,kBACd,sBAAMA,UAAU,cAAhB,yBAEJ,iCACI,uBACIM,KAAK,SACL/B,MAAOpB,EAAc,QAAU,WAC/B6C,UAAU,kBAGlB,cAAC,IAAD,CAAMa,GAAG,mBAAmBb,UAAU,mBAAtC","file":"static/js/15.59a3b17c.chunk.js","sourcesContent":["import React from \"react\";\nimport { useNavigate, Link, useLocation } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { login, register } from \"../../actions/userAction\";\nimport \"./index.scss\";\n\nconst Login = () => {\n    const [loginSelect, setLogin] = React.useState(true);\n    const [dp, setDp] = React.useState();\n    const navigate = useNavigate();\n    const location = useLocation();\n    const dispatch = useDispatch();\n    const { isAuthenticated } = useSelector((state) => state.user);\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const email = e.target.email.value;\n        const pass = e.target.password.value;\n        if (!loginSelect) {\n            const name = e.target.name.value;\n            const myForm = new FormData();\n            myForm.set(\"name\", name);\n            myForm.set(\"email\", email);\n            myForm.set(\"password\", pass);\n            myForm.set(\"dp\", dp);\n            dispatch(register(myForm));\n        } else {\n            dispatch(login(email, pass));\n        }\n    };\n\n    const handleDp = async (e) => {\n        let tdp = e.target.files[0];\n        if (tdp && tdp.size < 2000000) {\n            const reader = new FileReader();\n            reader.onload = (re) => {\n                setDp(re.target.result);\n            };\n            reader.readAsDataURL(tdp);\n        } else {\n            alert(\"please choose file of size less than 2MB!\");\n        }\n    };\n    const redirect = location.search\n        ? location.search.split(\"=\")[1]\n        : \"/profile\";\n    React.useEffect(() => {\n        if (isAuthenticated) {\n            navigate(redirect, { replace: true });\n        }\n    }, [isAuthenticated, navigate, redirect]);\n    return (\n        <div className=\"login-container\">\n            <div className=\"switch-tabs\">\n                <div className=\"tab\" onClick={() => setLogin(true)}>\n                    Login\n                </div>\n                <div className=\"tab\" onClick={() => setLogin(false)}>\n                    Register\n                </div>\n                <span className={`border-bottom ${!loginSelect && \"shift\"}`} />\n            </div>\n            <h3 className=\"start\">\n                Let's set go <span className=\"high\">╰(*°▽°*)╯</span>{\" \"}\n            </h3>\n            <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n                <label>\n                    {loginSelect ? (\n                        <div className=\"avatar\" />\n                    ) : (\n                        <>\n                            <div className=\"avatar\">\n                                {dp && <img className=\"dp\" alt=\"dp\" src={dp} />}\n                                <span className=\"upload\" />\n                            </div>\n                            <input\n                                type=\"file\"\n                                name=\"dp\"\n                                accept=\".jpeg,.jpg,.png\"\n                                onChange={handleDp}\n                            />\n                        </>\n                    )}\n                </label>\n                {!loginSelect && (\n                    <div className=\"inp-content\">\n                        <label htmlFor=\"name\" className=\"label\">\n                            Please enter your name\n                        </label>\n                        <input\n                            type=\"text\"\n                            name=\"name\"\n                            placeholder=\" \"\n                            minLength=\"3\"\n                            required\n                        />\n                        <hr className=\"border-bottom\" />\n                        <span className=\"placeholder\">name</span>\n                    </div>\n                )}\n                <div className=\"inp-content\">\n                    <label htmlFor=\"email\" className=\"label\">\n                        Please enter your email\n                    </label>\n                    <input type=\"email\" name=\"email\" placeholder=\" \" required />\n                    <hr className=\"border-bottom\" />\n                    <span className=\"placeholder\">email</span>\n                </div>\n                <div className=\"inp-content\">\n                    <label htmlFor=\"password\" className=\"label\">\n                        Please enter your password\n                    </label>\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        placeholder=\" \"\n                        minLength=\"6\"\n                        required\n                    />\n                    <hr className=\"border-bottom\" />\n                    <span className=\"placeholder\">password</span>\n                </div>\n                <center>\n                    <input\n                        type=\"submit\"\n                        value={loginSelect ? \"Login\" : \"Register\"}\n                        className=\"form-button\"\n                    />\n                </center>\n                <Link to=\"/password/forgot\" className=\"forgot-pass-text\">\n                    Forgot password ?\n                </Link>\n            </form>\n        </div>\n    );\n};\n\nexport default Login;\n"],"sourceRoot":""}