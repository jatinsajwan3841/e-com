(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[15],{161:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return d}));var c=n(6),a=n.n(c),r=n(11),s=n(13),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,25e3],c=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var o=Object(r.a)(a.a.mark((function r(o){var d,l,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o({type:"ALL_PRODUCT_REQUEST"}),d="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[gte]=").concat(n[0],"&price[lte]=").concat(n[1],"&ratings[gte]=").concat(i),c&&(d="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[gte]=").concat(n[0],"&price[lte]=").concat(n[1],"&category=").concat(c,"&ratings[gte]=").concat(i)),a.next=6,s.a.get(d);case 6:l=a.sent,u=l.data,o({type:"ALL_PRODUCT_SUCCESS",payload:u}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),o({type:"ALL_PRODUCT_FAIL",payload:a.t0.response.data.message});case 14:case"end":return a.stop()}}),r,null,[[0,11]])})));return function(e){return o.apply(this,arguments)}}()},o=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){var c,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"PRODUCT_DETAILS_REQUEST"}),t.next=4,s.a.get("/api/v1/product/".concat(e));case 4:c=t.sent,r=c.data,n({type:"PRODUCT_DETAILS_SUCCESS",payload:r.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:"PRODUCT_DETAILS_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){var c,r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"NEW_REVIEW_REQUEST"}),c={headers:{"Content-Type":"application/json"}},t.next=5,s.a.put("/api/v1/review",e,c);case 5:r=t.sent,i=r.data,n({type:"NEW_REVIEW_SUCCESS",payload:i.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"NEW_REVIEW_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}},162:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var c=n(6),a=n.n(c),r=n(11),s=function(e,t){return function(n,c){var a;n({type:"ADD_TO_CART",payload:{_id:e._id,name:e.name,price:e.price,image:e.image||(null===e||void 0===e||null===(a=e.images[0])||void 0===a?void 0:a.url),stock:e.stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))}},i=function(e){return function(t,n){t({type:"REMOVE_CART_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems))}},o=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SAVE_SHIPPING_INFO",payload:e}),localStorage.setItem("shippingInfo",JSON.stringify(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},220:function(e,t,n){},301:function(e,t,n){"use strict";n.r(t);var c=n(10),a=n(0),r=n.n(a),s=n(59),i=n(161),o=n(5),d=n(4),l=n(200),u=n(162),j=n(341),p=n(343),b=n(342),v=n(306),m=n(333),O=(n(220),n(2));t.default=function(){var e,t=r.a.useState(1),n=Object(c.a)(t,2),a=n[0],f=n[1],h=r.a.useState(!1),x=Object(c.a)(h,2),g=x[0],y=x[1],N=r.a.useState(0),S=Object(c.a)(N,2),_=S[0],w=S[1],E=r.a.useState(""),C=Object(c.a)(E,2),k=C[0],I=C[1],R=Object(o.c)((function(e){return e.productDetails})).product,T=Object(o.c)((function(e){return e.user})).isAuthenticated,A=Object(o.c)((function(e){return e.newReview})).loading,D=Object(o.b)(),L=Object(d.g)();return r.a.useEffect((function(){D(Object(i.b)(L.id))}),[D,L.id,A]),Object(O.jsx)(O.Fragment,{children:R&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(s.a,{title:R.name}),Object(O.jsxs)("div",{className:"product-container",children:[Object(O.jsx)("div",{className:"product-image-holder",children:Object(O.jsx)("img",{src:null===(e=R.images)||void 0===e?void 0:e[0].url,className:"product-image",alt:R.name})}),Object(O.jsxs)("div",{className:"product-details",children:[Object(O.jsxs)("div",{className:"details",children:[Object(O.jsx)("div",{className:"product-name",children:R.name}),Object(O.jsxs)("div",{className:"product-id",children:["Product ID: ",R._id]})]}),Object(O.jsx)("div",{className:"details",children:Object(O.jsx)(l.a,{name:"read-only",value:R.ratings,precision:.5,readOnly:!0})}),Object(O.jsxs)("div",{className:"details",children:[Object(O.jsxs)("div",{className:"amount",children:["\u20b9",R.price]}),Object(O.jsxs)("div",{className:"order-count",children:[Object(O.jsx)("button",{onClick:function(){return f((function(e){return e-1}))},disabled:0===a,children:"-"}),R.stock>0?a:0,Object(O.jsx)("button",{onClick:function(){return f((function(e){return e+1}))},disabled:a===R.stock,children:"+"}),Object(O.jsx)("button",{className:"add-to-cart",disabled:0===a,onClick:function(){a&&(D(Object(u.a)(R,a)),alert("Product added to cart!"))},children:"Add to cart"})]})]}),Object(O.jsxs)("div",{className:"details",children:["Status:"," ",R.stock>0?Object(O.jsx)("span",{className:"green",children:"In stock"}):Object(O.jsx)("span",{className:"tomato",children:"Out of stock"})]}),Object(O.jsxs)("div",{className:"details",children:["Description: ",R.description]}),!0===T&&Object(O.jsx)("div",{className:"details",children:Object(O.jsx)("button",{className:"submit-review",onClick:function(){return y(!0)},children:"Submit Review"})})]})]}),Object(O.jsxs)(j.a,{"aria-labelledby":"simple-dialog-title",open:g,onClose:function(){return y(!1)},children:[Object(O.jsx)(v.a,{children:"Submit Review"}),Object(O.jsxs)(b.a,{className:"dialog",children:[Object(O.jsx)(l.a,{onChange:function(e){return w(e.target.value)},value:_,size:"large"}),Object(O.jsx)("textarea",{className:"dialog-text",rows:"8",value:k,onChange:function(e){return I(e.target.value)}})]}),Object(O.jsxs)(p.a,{children:[Object(O.jsx)(m.a,{onClick:function(){return y(!1)},color:"secondary",children:"Cancel"}),Object(O.jsx)(m.a,{onClick:function(){var e={productID:R._id,rating:_,comment:k};D(Object(i.c)(e)),y(!1),w(0),I("")},color:"primary",children:"Submit"})]})]}),Object(O.jsxs)("div",{className:"reviews-container",children:[Object(O.jsx)("div",{className:"head",children:"Reviews \u25cf'\u25e1'\u25cf"}),Object(O.jsx)("div",{className:"reviews",children:R.numOfReviews>0?R.reviews.map((function(e,t){return Object(O.jsxs)("div",{className:"review",children:[Object(O.jsxs)("div",{className:"name",children:[Object(O.jsx)("span",{className:"avatar",children:" "}),e.name]}),Object(O.jsx)("div",{children:Object(O.jsx)(l.a,{name:"read-only",value:e.rating,precision:.5,size:"small",readOnly:!0})}),Object(O.jsx)("div",{className:"comment",children:e.comment})]},t)})):Object(O.jsx)("div",{className:"no-reviews",children:"No Reviews Yet"})})]})]})})}}}]);
//# sourceMappingURL=15.52720689.chunk.js.map